/* eslint-disable jsx-a11y/anchor-is-valid */
import * as React from 'react';
import { CssVarsProvider, extendTheme, styled } from '@mui/material/styles';
import Link from '@mui/material/Link';
import Typography from '@mui/material/Typography';
import Paper from '@mui/material/Paper';
import { useClipboardCopy } from '@mui/docs/CodeCopy';
import TokensTable from 'docs/src/modules/material-ui/TokensTable';

const defaultTheme = extendTheme({
  colorSchemes: { light: true, dark: true },
  colorSchemeSelector: '.mode-%s',
});

const Table = styled('table')(({ theme }) => ({
  borderCollapse: 'separate',
  borderSpacing: 0,
  overflowY: 'scroll',
  th: {
    textAlign: 'left',
    padding: 8,
    position: 'sticky',
    top: 0,
    zIndex: 1,
    backgroundColor: theme.vars.palette.background.default,
  },
  td: {
    verticalAlign: 'top',
    padding: '3px 6px',
  },
  tr: {
    '&:hover': {
      backgroundColor: `rgba(${theme.vars.palette.text.primaryChannel} / 0.04)`,
    },
    '&:first-of-type': {
      '& td': { paddingTop: 6 },
    },
  },
}));

export default function FontTokensViewer() {
  const { copy, isCopied } = useClipboardCopy();
  return (
    <CssVarsProvider
      theme={defaultTheme}
      // stylesheet is already generated by PaletteTokensViewer
      disableStyleSheetGeneration
      colorSchemeNode={null}
    >
      <TokensTable isCopied={isCopied}>
        <thead>
          <tr>
            <th style={{ width: 212 }}>CSS variable</th>
            <th>Value</th>
          </tr>
        </thead>
        <tbody>
          {Object.values(defaultTheme.vars.font).map((reference) => {
            const [, token, value] = reference.match(/^var\(([^,]+),\s*(.*)\)$/);
            return (
              <tr key={token}>
                <td>
                  <Link
                    level="inherit"
                    color="inherit"
                    underline="hover"
                    component="button"
                    onClick={() => copy(token)}
                    sx={{ width: '100%', cursor: 'copy' }}
                  >
                    {token}
                  </Link>
                </td>
                <td>
                  <Link
                    level="inherit"
                    color="inherit"
                    underline="hover"
                    component="button"
                    onClick={() => copy(value)}
                    sx={{
                      width: '100%',
                      display: 'flex',
                      alignItems: 'center',
                      gap: 0.5,
                      cursor: 'copy',
                    }}
                  >
                    {value}
                  </Link>
                </td>
              </tr>
            );
          })}
        </tbody>
      </TokensTable>
    </CssVarsProvider>
  );
}
